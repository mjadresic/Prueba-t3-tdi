(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[839],{96250:function(t,i,r){"use strict";r.r(i);var a=r(85893),n=r(67294),o=r(29009),e=r(94831),s=r(14195),c=r(3023),d=r(75358),u=r(65657),p=r(23872),l=r(53237),h=r(65953);i.default=function(){var t=(0,n.useContext)(h.R).orders,i=(0,n.useState)([]),r=i[0],f=i[1];return(0,n.useEffect)((function(){if(0!==t.length){var i=t.reduce((function(t,i){return i.product_id&&"NULL"!==i.product_id&&i.rating&&(t[i.product_id]||(t[i.product_id]={totalRating:0,count:0}),t[i.product_id].totalRating+=i.rating,t[i.product_id].count+=1),t}),{}),r=Object.keys(i).map((function(t){return{product_id:t,avg_rating:i[t].totalRating/i[t].count}}));r.sort((function(t,i){return i.avg_rating-t.avg_rating})),f(r)}else console.log("No orders data")}),[t]),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{children:"Calificaci\xf3n promedio de los productos comprados"}),(0,a.jsx)(o.h,{width:"100%",height:800,children:(0,a.jsxs)(e.v,{width:800,height:800,data:r,margin:{top:20,right:30,left:200,bottom:5},children:[(0,a.jsx)(s.q,{strokeDasharray:"3 3"}),(0,a.jsx)(c.K,{dataKey:"product_id",type:"category",width:200})," ",(0,a.jsx)(d.B,{type:"number",domain:[0,5]})," ",(0,a.jsx)(u.u,{}),(0,a.jsx)(p.D,{}),(0,a.jsx)(l.$,{dataKey:"avg_rating",fill:"#8884d8"})]})})]})}},69808:function(t,i,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/charts/calificacion-promedio",function(){return r(96250)}])},94831:function(t,i,r){"use strict";r.d(i,{v:function(){return c}});var a=r(99500),n=r(53237),o=r(3023),e=r(75358),s=r(97187),c=(0,a.z)({chartName:"BarChart",GraphicalChild:n.$,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:o.K},{axisType:"yAxis",AxisComp:e.B}],formatAxisMap:s.t9})}},function(t){t.O(0,[774,683,160,888,179],(function(){return i=69808,t(t.s=i);var i}));var i=t.O();_N_E=i}]);